@model List<RotoNews>

@{
    ViewData["Title"] = "News";
    List<RotoPlayer> players = ViewBag.Players;
}

<style>
    .dataTables_paginate {
        float: left !important;
    }
    .dataTables_wrapper .dataTables_length {
        float: right !important;
    }
</style>

<div class="panel">
    <div class="panel-body pn">
        <table id="tb-roto-news" class="table table-hover fs14">
            <thead>
                <tr>
                    <th>Created At</th>
                    <th>Name</th>
                    <th>Title</th>
                    <th>Detail</th>
                    <th>Injury</th>
                    <th>Transaction</th>
                </tr>
            </thead>
            <tbody>
                @foreach (RotoNews item in Model)
                {
                <tr>
                    <td class="w100">@item.DateTime.ToString("yyyy-MM-dd HH:mm:ss")</td>
                    <td class="w100">@players.FirstOrDefault(x => x.PlayerKey == item.Player).Name</td>
                    <td class="w200">@item.Title</td>
                    <td class="mnw500">@Html.Raw(@item.Detail)</td>
                    <td class="w50 text-center">
                        @if (item.NewsAttribute.injury == "true")
                        {
                            <i class="fa fa-check text-success fs20"></i>
                        }
                    </td>
                    <td class="w50 text-center">
                        @if (item.NewsAttribute.transaction == "true")
                        {
                            <i class="fa fa-check text-success fs20"></i>
                        }
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>




@section Scripts{
    <script type="text/javascript">
        $(function () {
            SetMenuByCode("News");

            $(document).ready(function () {
                $('#tb-roto-news').DataTable({
                    "aaSorting": [[0, 'desc']],
                    "scrollX": true,
                    "sDom": '<"dt-panelmenu clearfix"pfr>t<"dt-panelfooter clearfix"il>'});
            });
        });

    </script>
}
